package service

import "github.com/unionj-cloud/go-doudou/v2/framework/rest"

func init() {
	rest.Oas = `{"openapi":"3.0.2","info":{"title":"Usersvc","description":"Usersvc 用户管理服务\n调用用户详情、用户分页和上传头像接口需要带上Bearer Token请求头\n用户注册、用户登录和下载头像接口可以公开访问，无须鉴权\nUsersvc is user management service\nYou should set Bearer Token header when you request protected endpoints such as user detail, user pagination and upload avatar.\nYou can add doc for whole service here","version":"v20221122"},"servers":[{"url":"http://localhost:6060"}],"paths":{"/log/in":{"post":{"description":"PublicLogIn 用户登录接口\n展示如何鉴权并返回token\nPublicLogIn is user login api\ndemo how to do authentication and issue token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/LogInReq"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogInResp"}}}}}}},"/logout":{"get":{"description":"GetLogout 注销token\nGetLogout is used for revoking a token\nhttps://github.com/dgrijalva/jwt-go/issues/214\n@role(USER)","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetLogoutResp"}}}}}}},"/me":{"get":{"description":"GetMe 获取当前登录用户详情接口\nGetMe is used for getting user info from token in header.\n@role(USER)","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMeResp"}}}}}}},"/sign/up":{"post":{"description":"PublicSignUp 用户注册接口\n展示如何定义POST请求且Content-Type是application/x-www-form-urlencoded的接口\nPublicSignUp is user signup api\ndemo how to define post request api which accepts application/x-www-form-urlencoded content-type","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/SignUpReq"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpResp"}}}}}}},"/token/validate":{"get":{"description":"PublicTokenValidate token校验接口\n如果token有效，返回用户信息，否则返回空对象\nPublicTokenValidate validates token string\nif token is valid, return user information, otherwise, return empty data","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTokenValidateResp"}}}}}}},"/user":{"get":{"description":"GetUser 用户详情接口\n展示如何定义带查询字符串参数的GET请求接口\nGetUser is user detail api\ndemo how to define get http request with query string parameters\n@role(USER)","parameters":[{"name":"userId","in":"query","description":"用户ID\nuser id","required":true,"schema":{"type":"integer","format":"int32","description":"用户ID\nuser id"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResp"}}}}}}}},"components":{"schemas":{"GetLogoutResp":{"title":"GetLogoutResp","type":"object","properties":{"data":{"type":"string","description":"成功返回OK\nreturn OK if success"}},"required":["data"]},"GetMeResp":{"title":"GetMeResp","type":"object","properties":{"data":{"$ref":"#/components/schemas/UserVo"}},"required":["data"]},"GetTokenValidateResp":{"title":"GetTokenValidateResp","type":"object","properties":{"user":{"$ref":"#/components/schemas/UserVo"}},"required":["user"]},"GetUserResp":{"title":"GetUserResp","type":"object","properties":{"data":{"$ref":"#/components/schemas/UserVo"}},"required":["data"]},"LogInReq":{"title":"LogInReq","type":"object","properties":{"password":{"type":"string","description":"密码\npassword"},"username":{"type":"string","description":"用户名\nusername"}},"required":["username","password"]},"LogInResp":{"title":"LogInResp","type":"object","properties":{"data":{"type":"string","description":"token"}},"required":["data"]},"Order":{"title":"Order","type":"object","properties":{"col":{"type":"string"},"sort":{"type":"string"}},"required":["col","sort"]},"Page":{"title":"Page","type":"object","properties":{"orders":{"type":"array","items":{"$ref":"#/components/schemas/Order"},"description":"排序规则"},"pageNo":{"type":"integer","format":"int32","description":"页码"},"size":{"type":"integer","format":"int32","description":"每页行数"}},"required":["orders","pageNo","size"]},"PageFilter":{"title":"PageFilter","type":"object","properties":{"dept":{"type":"string","description":"所属部门"},"name":{"type":"string","description":"真实姓名，前缀匹配"}},"required":["name","dept"]},"PageQuery":{"title":"PageQuery","type":"object","properties":{"filter":{"$ref":"#/components/schemas/PageFilter"},"page":{"$ref":"#/components/schemas/Page"}},"description":"分页筛选条件","required":["filter","page"]},"PageRet":{"title":"PageRet","type":"object","properties":{"hasNext":{"type":"boolean"},"items":{"type":"object"},"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"}},"required":["items","pageNo","pageSize","total","hasNext"]},"SignUpReq":{"title":"SignUpReq","type":"object","properties":{"password":{"type":"string","description":"密码\npassword"},"username":{"type":"string","description":"用户名\nusername"}},"required":["username","password"]},"SignUpResp":{"title":"SignUpResp","type":"object","properties":{"data":{"type":"integer","format":"int32","description":"成功返回用户ID\nreturn user ID if success"}},"required":["data"]},"UserVo":{"title":"UserVo","type":"object","properties":{"dept":{"type":"string"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"phone":{"type":"string"},"username":{"type":"string"}},"description":"\n用户详情\nuser detail\n用户详情\nuser detail\n","required":["id","username","name","phone","dept"]}}}}`
}
