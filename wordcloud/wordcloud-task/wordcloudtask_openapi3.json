{"openapi":"3.0.2","info":{"title":"WordcloudTask","version":"v20220303"},"servers":[{"url":"http://localhost:6060"}],"paths":{"/task/fail":{"post":{"description":"TaskFail task fail 任务执行失败接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskFail"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskFailResp"}}}}}}},"/task/page":{"post":{"description":"TaskPage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageQuery"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskPageResp"}}}}}}},"/task/save":{"post":{"description":"TaskSave save word cloud task 保存词云图任务","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskPayload"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSaveResp"}}}}}}},"/task/success":{"post":{"description":"TaskSuccess task success 任务执行成功接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccess"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccessResp"}}}}}}}},"components":{"schemas":{"Filter":{"title":"Filter","type":"object","properties":{"userId":{"type":"integer","format":"int32"}},"required":["userId"]},"Order":{"title":"Order","type":"object","properties":{"col":{"type":"string"},"sort":{"type":"string"}},"required":["col","sort"]},"Page":{"title":"Page","type":"object","properties":{"orders":{"type":"array","items":{"$ref":"#/components/schemas/Order"},"description":"排序规则"},"pageNo":{"type":"integer","format":"int32","description":"页码"},"size":{"type":"integer","format":"int32","description":"每页行数"}},"required":["orders","pageNo","size"]},"PageQuery":{"title":"PageQuery","type":"object","properties":{"filter":{"$ref":"#/components/schemas/Filter"},"page":{"$ref":"#/components/schemas/Page"}},"description":"分页请求参数\npagination parameter\n分页筛选条件","required":["filter","page"]},"PageRet":{"title":"PageRet","type":"object","properties":{"hasNext":{"type":"boolean"},"items":{"type":"object"},"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"}},"required":["items","pageNo","pageSize","total","hasNext"]},"TaskFail":{"title":"TaskFail","type":"object","properties":{"error":{"type":"string","description":"error message\n错误信息"},"taskId":{"type":"integer","format":"int32","description":"task ID\n任务ID"}},"description":"\n","required":["taskId","error"]},"TaskFailResp":{"title":"TaskFailResp","type":"object","properties":{"data":{"type":"string","description":"return OK if success\n成功返回OK"}},"required":["data"]},"TaskPageResp":{"title":"TaskPageResp","type":"object","properties":{"data":{"$ref":"#/components/schemas/TaskPageRet"}},"required":["data"]},"TaskPageRet":{"title":"TaskPageRet","type":"object","properties":{"hasNext":{"type":"boolean"},"items":{"type":"array","items":{"$ref":"#/components/schemas/TaskVo"}},"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"}},"description":"分页结果\npagination result\n","required":["items","hasNext","pageNo","pageSize","total"]},"TaskPayload":{"title":"TaskPayload","type":"object","properties":{"lang":{"type":"string"},"srcUrl":{"type":"string","description":"source file url 原文件链接"},"top":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32","description":"用户ID\nuser ID"}},"description":"\n","required":["userId","srcUrl","lang","top"]},"TaskSaveResp":{"title":"TaskSaveResp","type":"object","properties":{"data":{"type":"integer","format":"int32","description":"task ID 任务ID"}},"required":["data"]},"TaskSuccess":{"title":"TaskSuccess","type":"object","properties":{"imgUrl":{"type":"string","description":"word cloud image url\n词云图链接"},"taskId":{"type":"integer","format":"int32","description":"task ID\n任务ID"}},"description":"\n","required":["taskId","imgUrl"]},"TaskSuccessResp":{"title":"TaskSuccessResp","type":"object","properties":{"data":{"type":"string","description":"return OK if success\n成功返回OK"}},"required":["data"]},"TaskVo":{"title":"TaskVo","type":"object","properties":{"createAt":{"type":"string"},"error":{"type":"string"},"id":{"type":"integer","format":"int32"},"imgUrl":{"type":"string"},"lang":{"type":"string"},"srcUrl":{"type":"string"},"status":{"type":"string"},"top":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"}},"required":["id","srcUrl","imgUrl","lang","top","status","error","userId","createAt"]}}}}